{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.getElementById(\"search-form\");\nconst input = document.getElementById(\"search-input\");\n\nconst API_KEY = \"49001064-c7b72e374a4ae6399075933f6\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction fetchImages(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n\n    return axios\n        .get(BASE_URL, { params })\n        .then(response => response.data.hits) \n        .catch(error => {\n            console.error(\"Error fetching images:\", error);\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please try again later!\",\n                position: \"topRight\",\n                pauseOnHover: false,\n                closeOnClick: true\n            });\n        });\n}\n\nconst loader = document.querySelector('.loader');\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault(); \n\n    const query = input.value.trim(); \n\n    if (query === \"\") {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search query!\",\n            position: \"topRight\",\n            pauseOnHover: false,\n            closeOnClick: true\n        });\n        return;\n    }\n\n    showLoader();\n    \n    fetchImages(query).then(images => {\n        if (images.length === 0) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n                pauseOnHover: false,\n                closeOnClick: true\n            });\n        } else {\n            console.log(images);\n            displayImages(images);\n        }\n    })\n    .finally(() => {\n        hideLoader();\n});\n\nfunction displayImages(images){\n    const gallery = document.getElementById(\"gallery\");\n\n    gallery.innerHTML = \"\";\n\n    images.forEach(image => {\n        const listItem = document.createElement('li');\n        listItem.classList.add('gallery-item');\n\n        listItem.innerHTML = `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n            </a>\n        <div class=\"info\">\n            <p>Likes <span>${image.likes}</span></p>\n            <p>Views <span>${image.views}</span></p>\n            <p>Comments <span>${image.comments}</span></p>\n            <p>Downloads <span>${image.downloads}</span></p>\n        </div>`;\n\n        gallery.appendChild(listItem);\n    });\n\n    const lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: \"alt\"\n    });\n\n    lightbox.refresh();\n}\n\n\nfunction showLoader() {\n    loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n    loader.classList.add('hidden');\n}\n})\n"],"names":["form","input","API_KEY","BASE_URL","fetchImages","query","params","axios","response","error","iziToast","loader","event","showLoader","images","displayImages","hideLoader","gallery","image","listItem","SimpleLightbox"],"mappings":"owBAOA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAE9CC,EAAU,qCACVC,EAAW,2BAEjB,SAASC,EAAYC,EAAO,CACxB,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EAED,OAAOE,EACF,IAAIJ,EAAU,CAAE,OAAAG,CAAQ,CAAA,EACxB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,WACV,aAAc,GACd,aAAc,EAC9B,CAAa,CACb,CAAS,CACT,CAEA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/CX,EAAK,iBAAiB,SAAWY,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMP,EAAQJ,EAAM,MAAM,KAAI,EAE9B,GAAII,IAAU,GAAI,CACdK,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,WACV,aAAc,GACd,aAAc,EAC1B,CAAS,EACD,MACR,CAEIG,EAAY,EAEZT,EAAYC,CAAK,EAAE,KAAKS,GAAU,CAC1BA,EAAO,SAAW,EAClBJ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WACV,aAAc,GACd,aAAc,EAC9B,CAAa,GAED,QAAQ,IAAII,CAAM,EAClBC,EAAcD,CAAM,EAE3B,CAAA,EACA,QAAQ,IAAM,CACXE,EAAY,CACpB,CAAC,EAED,SAASD,EAAcD,EAAO,CAC1B,MAAMG,EAAU,SAAS,eAAe,SAAS,EAEjDA,EAAQ,UAAY,GAEpBH,EAAO,QAAQI,GAAS,CACpB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,cAAc,EAErCA,EAAS,UAAY;AAAA,mBACVD,EAAM,aAAa;AAAA,4BACVA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6BAGrCA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA,gBAGxCD,EAAQ,YAAYE,CAAQ,CACpC,CAAK,EAEgB,IAAIC,EAAe,gBAAiB,CACjD,aAAc,KACtB,CAAK,EAEQ,QAAS,CACtB,CAGA,SAASP,GAAa,CAClBF,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,QAAQ,CACjC,CACA,CAAC"}