{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"49001064-c7b72e374a4ae6399075933f6\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function fetchImages(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n\n    return axios\n        .get(BASE_URL, { params })\n        .then(response => response.data.hits)\n        .catch(error => {\n            console.error(\"Error fetching images:\", error);\n            throw error;\n        });\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.add('hidden');\n}\n\nexport function clearGallery() {\n    document.getElementById(\"gallery\").innerHTML = \"\";\n}\n\nexport function displayImages(images) {\n    const gallery = document.getElementById(\"gallery\");\n\n    clearGallery();\n\n    images.forEach(image => {\n        const listItem = document.createElement('li');\n        listItem.classList.add('gallery-item');\n\n        listItem.innerHTML = `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n        </a>\n        <div class=\"info\">\n            <p>Likes <span>${image.likes}</span></p>\n            <p>Views <span>${image.views}</span></p>\n            <p>Comments <span>${image.comments}</span></p>\n            <p>Downloads <span>${image.downloads}</span></p>\n        </div>\n    `;\n\n        gallery.appendChild(listItem);\n    });\n\n    const lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: \"alt\"\n    });\n    lightbox.refresh();\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImages } from \"./pixabay-api\";\nimport { showLoader, hideLoader, displayImages } from \"./render-functions\";\n\nconst form = document.getElementById(\"search-form\");\nconst input = document.getElementById(\"search-input\");\nconst loader = document.querySelector(\".loader\");\nconst gallery = document.getElementById(\"gallery\");\n\nform.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (query === \"\") {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search query!\",\n            position: \"topRight\",\n            pauseOnHover: false,\n            closeOnClick: true,\n        });\n        return;\n    }\n\n    // Очищаємо галерею перед запитом\n    gallery.innerHTML = \"\";\n    showLoader(loader);\n\n    try {\n        const images = await fetchImages(query);\n\n        if (images.length === 0) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n                pauseOnHover: false,\n                closeOnClick: true,\n            });\n        } else {\n            displayImages(images);\n        }\n    } catch (error) {\n        gallery.innerHTML = \"\";\n        iziToast.error({\n            title: \"Error\",\n            message: \"Something went wrong. Please try again later!\",\n            position: \"topRight\",\n            pauseOnHover: false,\n            closeOnClick: true,\n        });\n    } finally {\n        hideLoader(loader);\n    }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","axios","response","error","showLoader","hideLoader","clearGallery","displayImages","images","gallery","image","listItem","SimpleLightbox","form","input","event","iziToast"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EAED,OAAOE,EACF,IAAIJ,EAAU,CAAE,OAAAG,CAAQ,CAAA,EACxB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CAClB,CAAS,CACT,CClBO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC/D,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC5D,CAEO,SAASC,GAAe,CAC3B,SAAS,eAAe,SAAS,EAAE,UAAY,EACnD,CAEO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjDH,EAAc,EAEdE,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,cAAc,EAErCA,EAAS,UAAY;AAAA,mBACVD,EAAM,aAAa;AAAA,wBACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6BAGjCA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA,MAIxCD,EAAQ,YAAYE,CAAQ,CACpC,CAAK,EAEgB,IAAIC,EAAe,gBAAiB,CACjD,aAAc,KACtB,CAAK,EACQ,QAAS,CACtB,CCtCA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EACrC,SAAS,cAAc,SAAS,EAC/C,MAAML,EAAU,SAAS,eAAe,SAAS,EAEjDI,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAC7CA,EAAM,eAAgB,EACtB,MAAMhB,EAAQe,EAAM,MAAM,KAAM,EAEhC,GAAIf,IAAU,GAAI,CACdiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,WACV,aAAc,GACd,aAAc,EAC1B,CAAS,EACD,MACR,CAGIP,EAAQ,UAAY,GACpBL,EAAiB,EAEjB,GAAI,CACA,MAAMI,EAAS,MAAMV,EAAYC,CAAK,EAElCS,EAAO,SAAW,EAClBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,WACV,aAAc,GACd,aAAc,EAC9B,CAAa,EAEDT,EAAcC,CAAM,CAE3B,MAAe,CACZC,EAAQ,UAAY,GACpBO,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,WACV,aAAc,GACd,aAAc,EAC1B,CAAS,CACT,QAAc,CACNX,EAAiB,CACzB,CACA,CAAC"}